<Project Sdk="Microsoft.NET.Sdk.WindowsDesktop">
  <PropertyGroup>
    <OutputType>WinExe</OutputType>

    <!-- ویندوز 11 (22H2) به بالا؛ با ویندوز 10 جدید هم سازگار -->
    <TargetFramework>net8.0-windows10.0.22621.0</TargetFramework>
    <SupportedOSPlatformVersion>10.0.22621.0</SupportedOSPlatformVersion>
    <TargetPlatformVersion>10.0.22621.0</TargetPlatformVersion>

    <UseWPF>true</UseWPF>
    <Nullable>enable</Nullable>
    <ImplicitUsings>enable</ImplicitUsings>

    <!-- خروجی MSIX از خود csproj -->
    <WindowsPackageType>MSIX</WindowsPackageType>
    <GenerateAppxPackageOnBuild>true</GenerateAppxPackageOnBuild>
    <AppxPackageDir>$(OutputPath)AppPackages\</AppxPackageDir>

    <!-- فقط x64 برای استور -->
    <PlatformTarget>x64</PlatformTarget>
  </PropertyGroup>

  <ItemGroup>
    <!-- هر کتابخانه لازم؛ چیزی که WinMD نباشد -->
    <PackageReference Include="CommunityToolkit.Mvvm" Version="8.2.1" />
    <!-- نمونه: موتور پردازش لوکال -->
    <!-- <PackageReference Include="OpenCvSharp4" Version="4.10.0" /> -->
  </ItemGroup>

  <ItemGroup>
    <!-- دارایی‌ها -->
    <Content Include="Assets\**\*.*" CopyToOutputDirectory="PreserveNewest" />
  </ItemGroup>
</Project>
